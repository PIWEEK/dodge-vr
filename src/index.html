<html>
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <a-scene>
          <a-assets>
            <a-asset-item id="optimerBoldFont" src="/assets/night_font.json"></a-asset-item>
            <img id="textTure" src="/assets/textture.jpg">
            <img id="textTure2" src="/assets/textture2.jpg">
            <img id="textTure3" src="/assets/textture3.jpg">
            <img id="cubeBlue" src="/assets/cube_blue.png">
            <img id="grid" src="/assets/grid.png">
            <img id="grid2" src="/assets/grid2.png">
            <img id="ballTexture" src="/assets/ball_texture.jpg">
            <img id="ground" src="/assets/ground.jpg">
            <a-mixin id="tronFont" src="/assets/tron_font.json"></a-mixin>
            <a-mixin id="boldFont" text="font: #optimerBoldFont"  material="color: #1fd7d5"></a-mixin>
            <img id="groundGameOverTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
            <img id="blood" src="/assets/blood.png">

            <audio id="song" src="/assets/song.mp3" loop preload></audio>
            <audio id="song_last" src="/assets/song_last.mp3" preload></audio>
            <audio id="bonus" src="/assets/bonus.wav"></audio>
            <audio id="confirm" src="/assets/confirm.wav"></audio>
            <audio id="gameover" src="/assets/gameover.wav"></audio>
            <audio id="hit" src="/assets/hit.wav"></audio>
            <audio id="miss" src="/assets/miss.wav"></audio>
            <audio id="win" src="/assets/win.wav"></audio>
          </a-assets>

          <a-entity sound-manager class="sound"></a-entity>
     <!--      <a-entity
            sound="src: url(/assets/song.mp3); autoplay: true; loop: true"></a-entity> -->

          <a-entity class="scene-orientation" rotation="0 0 0">
              <!-- Player -->
              <a-entity player>
                <a-entity
                  class="laser"
                  visible="false"
                  laser-controls="hand: left">
                </a-entity>
                <a-entity
                  class="controller controller-left"
                  hand-controls="left"
                  custom-reload
                  hit
                  aabb-collider="objects: .gamecollision;"></a-entity>
                <a-entity
                  class="controller controller-right"
                  hand-controls="right"
                  hit
                  aabb-collider="objects: .gamecollision;"></a-entity>

                <a-entity
                  id="camera"
                  camera="userHeight: 1.6"
                  wasd-controls
                  position="0 0 0"
                  data-aframe-default-camera
                  look-controls>
                    <a-cursor></a-cursor>
                    
                    <a-image class="player-blood" visible="false" src="#blood" position="0 0 -0.45"></a-image>

                    <a-sphere
                    id="head"
                    position="0 0 0"
                    scale="0.12 0.16 0"
                    hit
                    aabb-collider="objects: .gamecollision;"></a-sphere>

                    <!-- Game over -->
                    <a-entity game-over>
                      <a-text
                        color="red"
                        position="-0.5 0 -2"
                        value="Game over">
                      </a-text>

                      <a-box
                        class="retry game-over-action"
                        position="-0.2 -0.5 -2"
                        material="opacity: 0"
                        width="0.5"
                        height="0.3"
                        depth="0.25">
                          <a-text
                            position="-0.27 0 0"
                            value="Retry">
                          </a-text>
                      </a-box>

                      <a-box
                        class="quit game-over-action"
                        position="0.5 -0.5 -2"
                        material="opacity: 0"
                        width="0.5"
                        height="0.3"
                        depth="0.25">
                          <a-text
                            position="-0.27 0 0"
                            value="Quit">
                          </a-text>
                        </a-box>
                    </a-entity>
                    <!-- Score -->
                    <a-entity
                      score-end
                      position="0 0.5-1">
                      <a-text
                        class="score-text"
                        color="blue"
                        position="-0.75 0 -2"
                        value="Your score: 0000">
                      </a-text>

                      <a-box
                        class="retry score-end-action"
                        position="-0.2 -0.5 -2"
                        material="opacity: 0"
                        width="0.5"
                        height="0.3"
                        depth="0.25">
                          <a-text
                            position="-0.27 0 0"
                            value="Retry">
                          </a-text>
                      </a-box>

                      <a-box
                        class="quit score-end-action"
                        position="0.5 -0.5 -2"
                        material="opacity: 0"
                        width="0.5"
                        height="0.3"
                        depth="0.25">
                          <a-text
                            position="-0.27 0 0"
                            value="Quit">
                          </a-text>
                        </a-box>
                      </a-entity>
                  </a-entity>
              </a-entity>
          </a-entity>
        </a-scene>
    </body>
</html>
